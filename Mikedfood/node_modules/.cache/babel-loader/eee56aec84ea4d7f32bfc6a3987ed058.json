{"ast":null,"code":"var _jsxFileName = \"/home/michael/Documentos/projetos-pessoais/Mikedfood/src/pages/login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { IconButton } from \"@mui/material\";\nimport { DivPassword, ButtonStyled, Form, Main, InputMaterial } from \"./style\";\nimport { Visibility, VisibilityOff } from \"@mui/icons-material\";\nimport axios from \"axios\";\nimport { BASE_URL } from '../../constants/url';\nimport { useNavigate } from 'react-router-dom';\nimport { goToFeed } from '../../routes/coordinator';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [errEmail, setErrEmail] = useState('');\n  const [errPass, setErrPass] = useState('');\n  const [checkErrEmail, setCheckErrEmail] = useState(false);\n  const [checkErrPass, setCheckErrPass] = useState(false);\n  const navigate = useNavigate();\n\n  const handleClickShowPassword = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const onSubumitLogin = event => {\n    event.preventDefault();\n    const userLogin = {\n      email,\n      password\n    };\n    loginApi(userLogin);\n    console.log(email, password);\n  };\n\n  const loginApi = async body => {\n    await axios.post(`${BASE_URL}login`, body).then(res => {\n      console.log(res.data);\n      setEmail('');\n      setPassword('');\n      setErrEmail('');\n      setErrPass('');\n      setCheckErrPass(false);\n      setCheckErrEmail(false);\n      localStorage.setItem(\"token\", res.data);\n      goToFeed(navigate);\n    }).catch(error => {\n      if (error.response.data.message.includes('Senha incorreta')) {\n        setErrPass(error.response.data.message);\n        setCheckErrPass(true);\n      } else {\n        setErrEmail(error.response.data.message);\n        setCheckErrEmail(true);\n      }\n\n      console.log(error.response.data.message);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Main, {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Entrar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: onSubumitLogin,\n      children: [/*#__PURE__*/_jsxDEV(InputMaterial, {\n        error: checkErrEmail,\n        helperText: checkErrEmail ? errEmail : '',\n        id: \"outlined-basic\",\n        label: \"Email\",\n        type: \"email\",\n        variant: \"outlined\",\n        placeholder: 'email@email.com',\n        value: email,\n        onChange: event => setEmail(event.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DivPassword, {\n        children: [/*#__PURE__*/_jsxDEV(InputMaterial, {\n          error: checkErrPass,\n          helperText: checkErrPass ? errPass : '',\n          id: \"outlined-basic\",\n          label: \"Password\",\n          type: showPassword ? 'password' : 'text',\n          variant: \"outlined\",\n          placeholder: 'Minimo de 6 caracteres',\n          value: password,\n          onChange: event => setPassword(event.target.value),\n          inputProps: {\n            minLength: 6,\n            title: \"A senha deve conter no minimo 6 caracteres\"\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"toggle password visibility\",\n          onClick: handleClickShowPassword,\n          edge: \"end\",\n          children: showPassword ? /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 49\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonStyled, {\n        type: \"submit\",\n        children: \"Entrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"S9qqC+vydN1YI8wZVH8mW89yo0s=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","IconButton","DivPassword","ButtonStyled","Form","Main","InputMaterial","Visibility","VisibilityOff","axios","BASE_URL","useNavigate","goToFeed","Login","email","setEmail","password","setPassword","showPassword","setShowPassword","errEmail","setErrEmail","errPass","setErrPass","checkErrEmail","setCheckErrEmail","checkErrPass","setCheckErrPass","navigate","handleClickShowPassword","onSubumitLogin","event","preventDefault","userLogin","loginApi","console","log","body","post","then","res","data","localStorage","setItem","catch","error","response","message","includes","target","value","minLength","title"],"sources":["/home/michael/Documentos/projetos-pessoais/Mikedfood/src/pages/login/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { IconButton } from \"@mui/material\";\nimport { DivPassword,ButtonStyled, Form, Main, InputMaterial } from \"./style\";\nimport { Visibility, VisibilityOff } from \"@mui/icons-material\";\nimport axios from \"axios\";\nimport { BASE_URL } from '../../constants/url';\nimport { useNavigate } from 'react-router-dom';\nimport { goToFeed } from '../../routes/coordinator';\n\nconst Login = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [errEmail,setErrEmail] = useState('')\n  const [errPass,setErrPass] = useState('')\n  const [checkErrEmail,setCheckErrEmail] = useState(false)\n  const [checkErrPass,setCheckErrPass] = useState(false)\n  \n  const navigate = useNavigate()\n\n  const handleClickShowPassword = () => {\n    setShowPassword(!showPassword);\n  };\n  const onSubumitLogin = (event) =>{\n    event.preventDefault()\n    const userLogin ={\n        email,\n        password\n        \n    }\n    loginApi(userLogin)\n    console.log( email,\n        password);\n}\n  const loginApi = async (body) =>{\n    await axios.post(`${BASE_URL}login`,body )\n    .then((res) =>{\n        console.log(res.data)\n        setEmail('')\n        setPassword('')\n        setErrEmail('')\n        setErrPass('')\n        setCheckErrPass(false)\n        setCheckErrEmail(false)\n        localStorage.setItem(\"token\",res.data)\n        goToFeed(navigate)\n    })\n    .catch((error)=>{\n        if(error.response.data.message.includes('Senha incorreta')){\n            setErrPass(error.response.data.message)\n            setCheckErrPass(true)\n        }else{\n            setErrEmail(error.response.data.message)\n            setCheckErrEmail(true)\n        }\n        console.log(error.response.data.message)\n    })\n    }\n  \n  return (\n    <Main>\n      <p>Entrar</p>\n      <Form onSubmit={onSubumitLogin} >\n        <InputMaterial\n          error={checkErrEmail}\n          helperText={checkErrEmail ? errEmail : ''}\n          id=\"outlined-basic\"\n          label=\"Email\"\n          type=\"email\"\n          variant=\"outlined\"\n          placeholder={'email@email.com'}\n          value={email}\n          onChange={(event)=>setEmail(event.target.value)}  \n          required\n\n        />\n        <DivPassword>\n          <InputMaterial\n             error={checkErrPass}\n             helperText={checkErrPass ? errPass : ''}\n             id=\"outlined-basic\"\n            label=\"Password\"\n            type={showPassword?'password' :'text'}\n            variant=\"outlined\"\n            placeholder={'Minimo de 6 caracteres'}\n            value= {password}\n            onChange={(event) =>setPassword(event.target.value)}\n            inputProps={{ minLength: 6,title:\"A senha deve conter no minimo 6 caracteres\"}}\n             required\n\n          />\n          <IconButton\n            aria-label=\"toggle password visibility\"\n            onClick={handleClickShowPassword}\n            edge=\"end\"\n          >\n            {showPassword ? <VisibilityOff /> : <Visibility />}\n          </IconButton>\n        </DivPassword>\n        <ButtonStyled type=\"submit\">Entrar</ButtonStyled>\n      </Form>\n    </Main>\n  );\n}\nexport default Login;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,SAASC,WAAT,EAAqBC,YAArB,EAAmCC,IAAnC,EAAyCC,IAAzC,EAA+CC,aAA/C,QAAoE,SAApE;AACA,SAASC,UAAT,EAAqBC,aAArB,QAA0C,qBAA1C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,QAAT,QAAyB,0BAAzB;;;AAEA,MAAMC,KAAK,GAAG,MAAM;EAAA;;EAClB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACgB,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACkB,YAAD,EAAeC,eAAf,IAAkCnB,QAAQ,CAAC,KAAD,CAAhD;EACA,MAAM,CAACoB,QAAD,EAAUC,WAAV,IAAyBrB,QAAQ,CAAC,EAAD,CAAvC;EACA,MAAM,CAACsB,OAAD,EAASC,UAAT,IAAuBvB,QAAQ,CAAC,EAAD,CAArC;EACA,MAAM,CAACwB,aAAD,EAAeC,gBAAf,IAAmCzB,QAAQ,CAAC,KAAD,CAAjD;EACA,MAAM,CAAC0B,YAAD,EAAcC,eAAd,IAAiC3B,QAAQ,CAAC,KAAD,CAA/C;EAEA,MAAM4B,QAAQ,GAAGjB,WAAW,EAA5B;;EAEA,MAAMkB,uBAAuB,GAAG,MAAM;IACpCV,eAAe,CAAC,CAACD,YAAF,CAAf;EACD,CAFD;;EAGA,MAAMY,cAAc,GAAIC,KAAD,IAAU;IAC/BA,KAAK,CAACC,cAAN;IACA,MAAMC,SAAS,GAAE;MACbnB,KADa;MAEbE;IAFa,CAAjB;IAKAkB,QAAQ,CAACD,SAAD,CAAR;IACAE,OAAO,CAACC,GAAR,CAAatB,KAAb,EACIE,QADJ;EAEH,CAVC;;EAWA,MAAMkB,QAAQ,GAAG,MAAOG,IAAP,IAAe;IAC9B,MAAM5B,KAAK,CAAC6B,IAAN,CAAY,GAAE5B,QAAS,OAAvB,EAA8B2B,IAA9B,EACLE,IADK,CACCC,GAAD,IAAQ;MACVL,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACC,IAAhB;MACA1B,QAAQ,CAAC,EAAD,CAAR;MACAE,WAAW,CAAC,EAAD,CAAX;MACAI,WAAW,CAAC,EAAD,CAAX;MACAE,UAAU,CAAC,EAAD,CAAV;MACAI,eAAe,CAAC,KAAD,CAAf;MACAF,gBAAgB,CAAC,KAAD,CAAhB;MACAiB,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BH,GAAG,CAACC,IAAjC;MACA7B,QAAQ,CAACgB,QAAD,CAAR;IACH,CAXK,EAYLgB,KAZK,CAYEC,KAAD,IAAS;MACZ,IAAGA,KAAK,CAACC,QAAN,CAAeL,IAAf,CAAoBM,OAApB,CAA4BC,QAA5B,CAAqC,iBAArC,CAAH,EAA2D;QACvDzB,UAAU,CAACsB,KAAK,CAACC,QAAN,CAAeL,IAAf,CAAoBM,OAArB,CAAV;QACApB,eAAe,CAAC,IAAD,CAAf;MACH,CAHD,MAGK;QACDN,WAAW,CAACwB,KAAK,CAACC,QAAN,CAAeL,IAAf,CAAoBM,OAArB,CAAX;QACAtB,gBAAgB,CAAC,IAAD,CAAhB;MACH;;MACDU,OAAO,CAACC,GAAR,CAAYS,KAAK,CAACC,QAAN,CAAeL,IAAf,CAAoBM,OAAhC;IACH,CArBK,CAAN;EAsBC,CAvBH;;EAyBA,oBACE,QAAC,IAAD;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,IAAD;MAAM,QAAQ,EAAEjB,cAAhB;MAAA,wBACE,QAAC,aAAD;QACE,KAAK,EAAEN,aADT;QAEE,UAAU,EAAEA,aAAa,GAAGJ,QAAH,GAAc,EAFzC;QAGE,EAAE,EAAC,gBAHL;QAIE,KAAK,EAAC,OAJR;QAKE,IAAI,EAAC,OALP;QAME,OAAO,EAAC,UANV;QAOE,WAAW,EAAE,iBAPf;QAQE,KAAK,EAAEN,KART;QASE,QAAQ,EAAGiB,KAAD,IAAShB,QAAQ,CAACgB,KAAK,CAACkB,MAAN,CAAaC,KAAd,CAT7B;QAUE,QAAQ;MAVV;QAAA;QAAA;QAAA;MAAA,QADF,eAcE,QAAC,WAAD;QAAA,wBACE,QAAC,aAAD;UACG,KAAK,EAAExB,YADV;UAEG,UAAU,EAAEA,YAAY,GAAGJ,OAAH,GAAa,EAFxC;UAGG,EAAE,EAAC,gBAHN;UAIE,KAAK,EAAC,UAJR;UAKE,IAAI,EAAEJ,YAAY,GAAC,UAAD,GAAa,MALjC;UAME,OAAO,EAAC,UANV;UAOE,WAAW,EAAE,wBAPf;UAQE,KAAK,EAAGF,QARV;UASE,QAAQ,EAAGe,KAAD,IAAUd,WAAW,CAACc,KAAK,CAACkB,MAAN,CAAaC,KAAd,CATjC;UAUE,UAAU,EAAE;YAAEC,SAAS,EAAE,CAAb;YAAeC,KAAK,EAAC;UAArB,CAVd;UAWG,QAAQ;QAXX;UAAA;UAAA;UAAA;QAAA,QADF,eAeE,QAAC,UAAD;UACE,cAAW,4BADb;UAEE,OAAO,EAAEvB,uBAFX;UAGE,IAAI,EAAC,KAHP;UAAA,UAKGX,YAAY,gBAAG,QAAC,aAAD;YAAA;YAAA;YAAA;UAAA,QAAH,gBAAuB,QAAC,UAAD;YAAA;YAAA;YAAA;UAAA;QALtC;UAAA;UAAA;UAAA;QAAA,QAfF;MAAA;QAAA;QAAA;QAAA;MAAA,QAdF,eAqCE,QAAC,YAAD;QAAc,IAAI,EAAC,QAAnB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QArCF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA4CD,CA9FD;;GAAML,K;UASaF,W;;;KATbE,K;AA+FN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}